<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perplexity AI Automator</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="title">Perplexity AI Automator</h1>
            <div class="prompt-counter">
                <span id="promptCount">0</span>/50 prompts
            </div>
        </header>

        <main class="main-content">
            <section class="add-prompt-section">
                <textarea 
                    id="promptInput" 
                    class="prompt-input" 
                    placeholder="Enter your prompt here..."
                    rows="3"
                    maxlength="1000"
                ></textarea>
                <div class="input-actions">
                    <button id="addPromptBtn" class="btn btn-primary">
                        <span class="btn-icon">+</span>
                        Add Prompt
                    </button>
                    <button id="clearAllBtn" class="btn btn-secondary">
                        Clear All
                    </button>
                </div>
            </section>

            <section class="prompts-section">
                <div class="section-header">
                    <h2>Saved Prompts</h2>
                    <button id="toggleViewBtn" class="btn btn-text">
                        Collapse All
                    </button>
                </div>
                <div id="promptsList" class="prompts-list">
                    <div class="empty-state">
                        <p>No prompts saved yet. Add your first prompt above.</p>
                    </div>
                </div>
                <div class="settings-section">
                    <div class="section-header">
                        <h2>Settings</h2>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="enableNotifications" class="setting-checkbox">
                            <span>Enable completion notifications</span>
                        </label>
                    </div>
                </div>
            </section>

            <!-- Document Management Section - NEW -->
            <section class="document-section">
                <div class="section-header">
                    <h2>Document Management</h2>
                    <div class="document-status">
                        <span id="documentStatus" class="status status--info">Ready</span>
                    </div>
                </div>
                <div class="document-actions">
                    <button id="downloadDocxBtn" class="btn btn-secondary" disabled>
                        <span class="btn-icon">üìã</span>
                        Download .docx
                    </button>
                    <button id="clearDocumentBtn" class="btn btn-text" disabled>
                        Clear Document
                    </button>
                </div>
                <div class="document-preview">
                    <div class="document-stats">
                        <span id="responseCount">0</span> responses collected
                    </div>
                </div>
            </section>

            <section class="automation-section">
                <button id="startAutomationBtn" class="btn btn-success">
                    <span class="btn-icon">‚ñ∂Ô∏è</span>
                    Start Automation
                </button>
                <button id="pauseAutomationBtn" class="btn btn-secondary" disabled style="display: none;">
                    <span class="btn-icon">‚è∏Ô∏è</span>
                    Pause Automation
                </button>
                <button id="resumeAutomationBtn" class="btn btn-primary" disabled style="display: none;">
                    <span class="btn-icon">‚ñ∂Ô∏è</span>
                    Resume Automation
                </button>
                <button id="stopAutomationBtn" class="btn btn-danger" disabled>
                    <span class="btn-icon">‚èπÔ∏è</span>
                    Stop Automation
                </button>
            </section>

            <section class="progress-section" style="display: none;">
                <div class="progress-header">
                    <h3>Automation Progress</h3>
                    <span id="progressText">0 of 0 completed</span>
                </div>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill"></div>
                </div>
                <div id="currentPrompt" class="current-prompt">
                    Ready to start automation...
                </div>
                <div id="automationLog" class="automation-log"></div>
            </section>
        </main>
    </div>
    <script src="lib/docx.min.js"></script>
    <script src="popup.js"></script>
</body>
</html>